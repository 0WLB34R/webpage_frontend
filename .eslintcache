[{"/Users/knhrvs/webpage_frontend/src/App.js":"1","/Users/knhrvs/webpage_frontend/src/components/Header.js":"2","/Users/knhrvs/webpage_frontend/src/components/pages/ArtiListSect.js":"3","/Users/knhrvs/webpage_frontend/src/components/pages/CreateUserSect.js":"4","/Users/knhrvs/webpage_frontend/src/components/ButtonComp.js":"5","/Users/knhrvs/webpage_frontend/src/components/pages/AdminList.js":"6","/Users/knhrvs/webpage_frontend/src/index.js":"7","/Users/knhrvs/webpage_frontend/src/components/Home.js":"8","/Users/knhrvs/webpage_frontend/src/components/pages/LoginSect.js":"9","/Users/knhrvs/webpage_frontend/src/components/pages/ArtiEditSect.js":"10","/Users/knhrvs/webpage_frontend/src/components/Navbar.js":"11"},{"size":1380,"mtime":1608035075097,"results":"12","hashOfConfig":"13"},{"size":244,"mtime":1607636303053,"results":"14","hashOfConfig":"13"},{"size":8033,"mtime":1608293367257,"results":"15","hashOfConfig":"13"},{"size":10677,"mtime":1608290021636,"results":"16","hashOfConfig":"13"},{"size":406,"mtime":1606911047145,"results":"17","hashOfConfig":"13"},{"size":4899,"mtime":1608035075106,"results":"18","hashOfConfig":"13"},{"size":155,"mtime":1608035075121,"results":"19","hashOfConfig":"13"},{"size":270,"mtime":1608035075100,"results":"20","hashOfConfig":"13"},{"size":9347,"mtime":1608290021643,"results":"21","hashOfConfig":"13"},{"size":6984,"mtime":1608290021631,"results":"22","hashOfConfig":"13"},{"size":2231,"mtime":1608294336444,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1vicnbc",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/knhrvs/webpage_frontend/src/App.js",[],"/Users/knhrvs/webpage_frontend/src/components/Header.js",[],["49","50"],"/Users/knhrvs/webpage_frontend/src/components/pages/ArtiListSect.js",["51"],"/Users/knhrvs/webpage_frontend/src/components/pages/CreateUserSect.js",["52","53","54","55"],"import React, { useState} from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Axios from 'axios'\nimport { TextField } from '@material-ui/core'\nimport Button from '@material-ui/core/Button';\nimport './CreateUserSect.css'\nimport { useHistory } from \"react-router-dom\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n    root: {\n        background: (props) =>\n          props.color === 'red'\n            ? 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\n            : 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n        border: 0,\n        borderRadius: 3,\n        boxShadow: (props) =>\n          props.color === 'red'\n            ? '0 3px 5px 2px rgba(255, 105, 135, .3)'\n            : '0 3px 5px 2px rgba(33, 203, 243, .3)',\n        color: 'white',\n        height: 48,\n        padding: '0 30px',\n        margin: 8,\n      },\n  }));\n\nfunction CreateUserSect() {\n\n    let history = useHistory();\n    const classes = useStyles();\n    const expression = /(?!.*\\.{2})^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([\\t]*\\r\\n)?[\\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([\\t]*\\r\\n)?[\\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i;\n    \n    const [email, setEmail] = useState(\"\");\n    const [names, setNames] = useState(\"\");\n    const [lastNames, setLastNames] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [reTypedPassword, setReTypedPassword] = useState(\"\");\n    const [role, setRole] = useState(\"\");\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    \n      const handleClose = () => {\n        setOpen(false);\n    };\n\n    const validateEmail = expression.test(String(email).toLowerCase());\n    const validatePassword = password.length >= 8;\n    const validateReTypedPassword = password === reTypedPassword;\n    const validateNames = names.length >= 2;\n    const validateLastnames = lastNames.length >= 2;\n    const validateRole = role !== '0';\n\n    const createUser = () => {\n        Axios.post('webpage_backend/users', {\n            email: email,\n            names: names,\n            lastnames: lastNames,\n            password: password,\n            roles: role,\n        }).then((response) => {\n            if(response.data.status==='error'){\n                handleClickOpen();\n                console.log(\"No se pudo crear el usuario\");\n            }else{\n                console.log(\"Se pudo crear el usuario sesión\");\n                history.push('/listausuarios')\n            }\n        });\n    };\n\n    return (\n        <div class='main'>\n        <Container component=\"main\" maxWidth=\"xs\">\n            {localStorage.getItem(\"role\") === \"1\" ?\n                <div class='paper'>\n                    <Typography component=\"h1\" variant=\"h5\">\n                    Crear nuevo usuario\n                    </Typography>\n                    <TextField\n                        type='text'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Dirección de correo electrónico\"\n                        name=\"email\"\n                        autoComplete=\"email\"\n                        autoFocus\n                        helperText={validateEmail ? \"Correo electrónico válido\" : \"Correo electrónico inválido\"}\n                        error={!validateEmail}\n                        onChange={(e) => {\n                            setEmail(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='text'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"names\"\n                        label=\"Nombres\"\n                        name=\"names\"\n                        autoComplete=\"names\"\n                        autoFocus\n                        helperText={validateNames ? \"Nombre válido\" : \"Nombre inválido\"}\n                        error={!validateEmail}\n                        onChange={(e) => {\n                            setNames(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='text'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"lastnames\"\n                        label=\"Apellidos\"\n                        name=\"lastnames\"\n                        autoComplete=\"lastnames\"\n                        autoFocus\n                        helperText={validateLastnames ? \"Apellidos válidos\" : \"Apellidos inválidos\"}\n                        error={!validateLastnames}\n                        onChange={(e) => {\n                            setLastNames(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='password'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"password\"\n                        label=\"Contraseña\"\n                        name=\"password\"\n                        autoComplete=\"password\"\n                        autoFocus\n                        helperText={validatePassword ? \"Contraseña válida\" : \"Contraseña inválida\"}\n                        error={!validatePassword}\n                        onChange={(e) => {\n                            setPassword(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='password'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"password-re\"\n                        label=\"Repite la contraseña\"\n                        name=\"password-re\"\n                        autoComplete=\"password-re\"\n                        autoFocus\n                        helperText={validateReTypedPassword ? \"Las contraseñas coinciden\" : \"Las contraseñas no coinciden\"}\n                        error={!validateReTypedPassword}\n                        onChange={(e) => {\n                            setReTypedPassword(e.target.value);\n                        }}\n                    />\n                    <FormControl variant=\"outlined\" className={classes.formControl}>\n                        <InputLabel id=\"demo-simple-select-outlined-label\">Rol</InputLabel>\n                        <Select\n                            labelId=\"demo-simple-select-outlined-label\"\n                            id=\"demo-simple-select-outlined\"\n                            value={role}\n                            onChange={(e) => {\n                                setRole(e.target.value);\n                            }}\n                            label=\"Rol\"\n                            error={!validateRole}\n                        >\n                        <MenuItem value={1}>Administrador</MenuItem>\n                        <MenuItem value={2}>Editor</MenuItem>\n                        <MenuItem value={3}>Revisor</MenuItem>\n                        </Select>\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.root}\n                        text={'Crear usuario'}\n                        onClick={createUser}\n                        disabled={!(validateEmail && validatePassword && validateReTypedPassword && validateNames && validateLastnames)}\n                    >\n                        Crear usuario\n                    </Button>\n                    <Dialog\n                        open={open}\n                        onClose={handleClose}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-title\">{\"Error al crear usuario\"}</DialogTitle>\n                        <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            Puede que hayan problemas con el servidor en este momento. Vuelve a intentarlo más tarde.\n                        </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                        <Button onClick={handleClose} color=\"primary\" autoFocus>\n                            Aceptar\n                        </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div> : <div><p>No tiene permisos para realizar esta función</p></div>}\n        </Container>\n        </div>\n    );\n}\n\nexport default CreateUserSect\n",["56","57"],"/Users/knhrvs/webpage_frontend/src/components/ButtonComp.js",[],"/Users/knhrvs/webpage_frontend/src/components/pages/AdminList.js",[],"/Users/knhrvs/webpage_frontend/src/index.js",[],"/Users/knhrvs/webpage_frontend/src/components/Home.js",[],"/Users/knhrvs/webpage_frontend/src/components/pages/LoginSect.js",["58","59","60","61","62","63"],"/Users/knhrvs/webpage_frontend/src/components/pages/ArtiEditSect.js",[],"/Users/knhrvs/webpage_frontend/src/components/Navbar.js",[],{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":1,"column":16,"nodeType":"70","messageId":"71","endLine":1,"endColumn":25},{"ruleId":"68","severity":1,"message":"72","line":14,"column":8,"nodeType":"70","messageId":"71","endLine":14,"endColumn":19},{"ruleId":"73","severity":1,"message":"74","line":51,"column":24,"nodeType":"75","messageId":"76","endLine":51,"endColumn":783},{"ruleId":"77","severity":1,"message":"78","line":51,"column":54,"nodeType":"75","messageId":"79","endLine":51,"endColumn":55,"suggestions":"80"},{"ruleId":"77","severity":1,"message":"78","line":51,"column":125,"nodeType":"75","messageId":"79","endLine":51,"endColumn":126,"suggestions":"81"},{"ruleId":"64","replacedBy":"82"},{"ruleId":"66","replacedBy":"83"},{"ruleId":"68","severity":1,"message":"84","line":5,"column":8,"nodeType":"70","messageId":"71","endLine":5,"endColumn":18},{"ruleId":"68","severity":1,"message":"85","line":6,"column":10,"nodeType":"70","messageId":"71","endLine":6,"endColumn":14},{"ruleId":"73","severity":1,"message":"74","line":19,"column":24,"nodeType":"75","messageId":"76","endLine":19,"endColumn":783},{"ruleId":"77","severity":1,"message":"78","line":19,"column":54,"nodeType":"75","messageId":"79","endLine":19,"endColumn":55,"suggestions":"86"},{"ruleId":"77","severity":1,"message":"78","line":19,"column":125,"nodeType":"75","messageId":"79","endLine":19,"endColumn":126,"suggestions":"87"},{"ruleId":"68","severity":1,"message":"88","line":20,"column":11,"nodeType":"70","messageId":"71","endLine":20,"endColumn":15},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'CssBaseline' is defined but never used.","no-control-regex","Unexpected control character(s) in regular expression: \\x01, \\x08, \\x0b, \\x0c, \\x0e, \\x1f, \\x01, \\x09, \\x0b, \\x0c, \\x0d.","Literal","unexpected","no-useless-escape","Unnecessary escape character: \\/.","unnecessaryEscape",["91","92"],["93","94"],["89"],["90"],"'ButtonComp' is defined but never used.","'Link' is defined but never used.",["95","96"],["97","98"],"'next' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"messageId":"99","fix":"100","desc":"101"},{"messageId":"102","fix":"103","desc":"104"},{"messageId":"99","fix":"105","desc":"101"},{"messageId":"102","fix":"106","desc":"104"},{"messageId":"99","fix":"107","desc":"101"},{"messageId":"102","fix":"108","desc":"104"},{"messageId":"99","fix":"109","desc":"101"},{"messageId":"102","fix":"110","desc":"104"},"removeEscape",{"range":"111","text":"112"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"113","text":"114"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"115","text":"112"},{"range":"116","text":"114"},{"range":"117","text":"112"},{"range":"118","text":"114"},{"range":"119","text":"112"},{"range":"120","text":"114"},[1818,1819],"",[1818,1818],"\\",[1889,1890],[1889,1889],[847,848],[847,847],[918,919],[918,918]]