[{"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\App.js":"1","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\Navbar.js":"2","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\ArtiSect.js":"3","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\Home.js":"4","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\AdminList.js":"5","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\CreateUserSect.js":"6","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\Header.js":"7","C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\ArtiAlterSect.js":"8"},{"size":1419,"mtime":1608005885286,"results":"9","hashOfConfig":"10"},{"size":2307,"mtime":1608009742224,"results":"11","hashOfConfig":"10"},{"size":6904,"mtime":1608055113107,"results":"12","hashOfConfig":"10"},{"size":284,"mtime":1607891457083,"results":"13","hashOfConfig":"10"},{"size":5061,"mtime":1608005500151,"results":"14","hashOfConfig":"10"},{"size":10449,"mtime":1608005578524,"results":"15","hashOfConfig":"10"},{"size":257,"mtime":1607891457079,"results":"16","hashOfConfig":"10"},{"size":4979,"mtime":1608122171091,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"e3ydq4",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\App.js",[],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\Navbar.js",[],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\ArtiSect.js",[],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\Home.js",[],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\AdminList.js",[],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\CreateUserSect.js",["35","36","37"],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\Header.js",[],"C:\\Users\\dave_\\Documents\\MEGA\\Ing. Sistemas\\Infografía\\Git\\webpage_frontend\\src\\components\\pages\\ArtiAlterSect.js",["38"],"import './ArtiEditSec.css'\r\nimport React, { useState} from 'react'\r\nimport ButtonComp from '../ButtonComp'\r\nimport { Link } from 'react-router-dom';\r\nimport {TextField} from '@material-ui/core'\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Axios from 'axios'\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction ArtiAlterSect() {\r\n    \r\n    const location = useLocation();\r\n    const post = location.data;\r\n    const [title, setTitle] = useState(post.title);\r\n    const [content, setContent] = useState(post.description);\r\n    const [video, setVideo] = useState(post.video);\r\n    const [descripcorta, setDescripCorta] = useState(post.shortDescription);\r\n    const [imagen, setImagen] = useState(\"\");\r\n    const today = new Date();\r\n\r\n    const validTitle = title.length >= 3;\r\n    const validateShortDescription = descripcorta.length >= 30 && descripcorta.length <= 100;\r\n    const validateContent = content.length >= 500 && content.length <= 3000;\r\n\r\n    const uploadImage = () => {\r\n        const fd = new FormData();\r\n        fd.append('image', imagen);\r\n        Axios.post(\"webpage_backend/photos\", fd)\r\n        .then(res => {\r\n            console.log(res);\r\n        })\r\n    }\r\n\r\n    const update = () => {\r\n        Axios.put(\"webpage_backend/posts\", {\r\n            idPost: post.idPost,\r\n            title: title,\r\n            shortDescription: descripcorta,\r\n            description: content,\r\n            author: localStorage.getItem('name')+\" \"+localStorage.getItem('lastnm'),\r\n            date: today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate(),\r\n            photo: \"http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/storage/images/posts/serj.jpg\",\r\n            category: \"economia\",\r\n            revised: \"0\",\r\n            video: \"https://www.youtube.com/embed/\"+video.split(\"=\")[1],\r\n        }).then((response) => {\r\n            console.log(response);\r\n        });\r\n        \r\n    };\r\n    const isLogged = localStorage.getItem('role') !== \"\";\r\n\r\n    return (\r\n        <div>\r\n        {localStorage.getItem(\"role\") === \"1\" || localStorage.getItem(\"role\") === \"2\" ? \r\n        <div className='containerArtiEdit'>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n            Edición de artículo\r\n        </Typography>         \r\n        <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            defaultValue={title}\r\n            id=\"title\"\r\n            label=\"Título\"\r\n            name=\"email\"\r\n            autoComplete=\"title\"\r\n            autoFocus\r\n            onChange={(e) => {\r\n                setTitle(e.target.value);\r\n            }}\r\n            helperText={validTitle ? \"Título válido\" : \"Título inválido\"}\r\n            error={!validTitle}\r\n        />\r\n        <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            defaultValue={descripcorta}\r\n            id=\"short\"\r\n            label=\"Descripción corta\"\r\n            name=\"email\"\r\n            autoComplete=\"short\"\r\n            autoFocus\r\n            onChange={(e) => {\r\n                setDescripCorta(e.target.value);\r\n            }}\r\n            helperText={validateShortDescription ? \"Descripción válida\" : \"La descripción debe ser de 30 a 100 caracteres.\"}\r\n            error={!validateShortDescription}\r\n        />\r\n        <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            defaultValue={content}\r\n            id=\"content\"\r\n            label=\"Contenido\"\r\n            name=\"content\"\r\n            autoComplete=\"content\"\r\n            autoFocus\r\n            multiline\r\n            rows={20}\r\n            rowsMax={40}\r\n            onChange={(e) => {\r\n                setContent(e.target.value);\r\n            }}\r\n            helperText={validateContent ? \"\" : \"El contenido debe tener de 500 a 300 caracteres.\"}\r\n            error={!validateContent}\r\n        />\r\n        <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            fullWidth\r\n            id='video'\r\n            type='url'\r\n            label=\"Link de video (opcional)\"\r\n            color=\"primary\"\r\n            height=\"100%\"\r\n            onChange={(e) => {\r\n                setVideo(e.target.value);\r\n            }}\r\n            />\r\n        <input \r\n        \r\n        type=\"file\"\r\n        onChange={(e)=>{\r\n            setImagen(e.target.files[0])\r\n        }} \r\n        //ref={fileInput => this.fileInput = fileInput}\r\n        />\r\n        <ButtonComp \r\n            text={'Subir imagen'}\r\n            disabled={false}\r\n            onClick={uploadImage}\r\n            />\r\n        <Link to ='/artireded' >\r\n            <ButtonComp \r\n                text={'Actualizar'}\r\n                disabled={false}\r\n                onClick={update}\r\n             />\r\n        </Link>\r\n    </div>\r\n    : <div> No Tiene Permisos</div> }\r\n        </div>\r\n    );\r\n}\r\nexport default ArtiAlterSect",{"ruleId":"39","severity":1,"message":"40","line":35,"column":24,"nodeType":"41","messageId":"42","endLine":35,"endColumn":783},{"ruleId":"43","severity":1,"message":"44","line":35,"column":54,"nodeType":"41","messageId":"45","endLine":35,"endColumn":55,"suggestions":"46"},{"ruleId":"43","severity":1,"message":"44","line":35,"column":125,"nodeType":"41","messageId":"45","endLine":35,"endColumn":126,"suggestions":"47"},{"ruleId":"48","severity":1,"message":"49","line":51,"column":11,"nodeType":"50","messageId":"51","endLine":51,"endColumn":19},"no-control-regex","Unexpected control character(s) in regular expression: \\x01, \\x08, \\x0b, \\x0c, \\x0e, \\x1f, \\x01, \\x09, \\x0b, \\x0c, \\x0d.","Literal","unexpected","no-useless-escape","Unnecessary escape character: \\/.","unnecessaryEscape",["52","53"],["54","55"],"no-unused-vars","'isLogged' is assigned a value but never used.","Identifier","unusedVar",{"messageId":"56","fix":"57","desc":"58"},{"messageId":"59","fix":"60","desc":"61"},{"messageId":"56","fix":"62","desc":"58"},{"messageId":"59","fix":"63","desc":"61"},"removeEscape",{"range":"64","text":"65"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"66","text":"67"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"68","text":"65"},{"range":"69","text":"67"},[1333,1334],"",[1333,1333],"\\",[1404,1405],[1404,1404]]