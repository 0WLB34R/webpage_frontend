[{"/Users/knhrvs/webpage_frontend/src/App.js":"1","/Users/knhrvs/webpage_frontend/src/components/Header.js":"2","/Users/knhrvs/webpage_frontend/src/components/pages/ArtiListSect.js":"3","/Users/knhrvs/webpage_frontend/src/components/pages/CreateUserSect.js":"4","/Users/knhrvs/webpage_frontend/src/components/ButtonComp.js":"5","/Users/knhrvs/webpage_frontend/src/components/pages/AdminList.js":"6","/Users/knhrvs/webpage_frontend/src/index.js":"7","/Users/knhrvs/webpage_frontend/src/components/Home.js":"8","/Users/knhrvs/webpage_frontend/src/components/pages/LoginSect.js":"9","/Users/knhrvs/webpage_frontend/src/components/pages/ArtiEditSect.js":"10","/Users/knhrvs/webpage_frontend/src/components/Navbar.js":"11","/Users/knhrvs/webpage_frontend/src/components/pages/EditDeleteUsers.js":"12","/Users/knhrvs/webpage_frontend/src/components/pages/ArtiSect.js":"13"},{"size":1380,"mtime":1608035075097,"results":"14","hashOfConfig":"15"},{"size":244,"mtime":1607636303053,"results":"16","hashOfConfig":"15"},{"size":8002,"mtime":1608321841323,"results":"17","hashOfConfig":"15"},{"size":10677,"mtime":1608290021636,"results":"18","hashOfConfig":"15"},{"size":406,"mtime":1606911047145,"results":"19","hashOfConfig":"15"},{"size":4834,"mtime":1608321949272,"results":"20","hashOfConfig":"15"},{"size":155,"mtime":1608035075121,"results":"21","hashOfConfig":"15"},{"size":270,"mtime":1608035075100,"results":"22","hashOfConfig":"15"},{"size":9347,"mtime":1608290021643,"results":"23","hashOfConfig":"15"},{"size":6984,"mtime":1608290021631,"results":"24","hashOfConfig":"15"},{"size":2231,"mtime":1608294336444,"results":"25","hashOfConfig":"15"},{"size":11551,"mtime":1608290021640,"results":"26","hashOfConfig":"15"},{"size":6765,"mtime":1608320922764,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1vicnbc",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/knhrvs/webpage_frontend/src/App.js",[],["58","59"],"/Users/knhrvs/webpage_frontend/src/components/Header.js",[],["60","61"],"/Users/knhrvs/webpage_frontend/src/components/pages/ArtiListSect.js",[],"/Users/knhrvs/webpage_frontend/src/components/pages/CreateUserSect.js",["62","63","64","65"],"import React, { useState} from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Axios from 'axios'\nimport { TextField } from '@material-ui/core'\nimport Button from '@material-ui/core/Button';\nimport './CreateUserSect.css'\nimport { useHistory } from \"react-router-dom\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n    root: {\n        background: (props) =>\n          props.color === 'red'\n            ? 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\n            : 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n        border: 0,\n        borderRadius: 3,\n        boxShadow: (props) =>\n          props.color === 'red'\n            ? '0 3px 5px 2px rgba(255, 105, 135, .3)'\n            : '0 3px 5px 2px rgba(33, 203, 243, .3)',\n        color: 'white',\n        height: 48,\n        padding: '0 30px',\n        margin: 8,\n      },\n  }));\n\nfunction CreateUserSect() {\n\n    let history = useHistory();\n    const classes = useStyles();\n    const expression = /(?!.*\\.{2})^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([\\t]*\\r\\n)?[\\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([\\t]*\\r\\n)?[\\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i;\n    \n    const [email, setEmail] = useState(\"\");\n    const [names, setNames] = useState(\"\");\n    const [lastNames, setLastNames] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [reTypedPassword, setReTypedPassword] = useState(\"\");\n    const [role, setRole] = useState(\"\");\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    \n      const handleClose = () => {\n        setOpen(false);\n    };\n\n    const validateEmail = expression.test(String(email).toLowerCase());\n    const validatePassword = password.length >= 8;\n    const validateReTypedPassword = password === reTypedPassword;\n    const validateNames = names.length >= 2;\n    const validateLastnames = lastNames.length >= 2;\n    const validateRole = role !== '0';\n\n    const createUser = () => {\n        Axios.post('webpage_backend/users', {\n            email: email,\n            names: names,\n            lastnames: lastNames,\n            password: password,\n            roles: role,\n        }).then((response) => {\n            if(response.data.status==='error'){\n                handleClickOpen();\n                console.log(\"No se pudo crear el usuario\");\n            }else{\n                console.log(\"Se pudo crear el usuario sesión\");\n                history.push('/listausuarios')\n            }\n        });\n    };\n\n    return (\n        <div class='main'>\n        <Container component=\"main\" maxWidth=\"xs\">\n            {localStorage.getItem(\"role\") === \"1\" ?\n                <div class='paper'>\n                    <Typography component=\"h1\" variant=\"h5\">\n                    Crear nuevo usuario\n                    </Typography>\n                    <TextField\n                        type='text'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Dirección de correo electrónico\"\n                        name=\"email\"\n                        autoComplete=\"email\"\n                        autoFocus\n                        helperText={validateEmail ? \"Correo electrónico válido\" : \"Correo electrónico inválido\"}\n                        error={!validateEmail}\n                        onChange={(e) => {\n                            setEmail(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='text'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"names\"\n                        label=\"Nombres\"\n                        name=\"names\"\n                        autoComplete=\"names\"\n                        autoFocus\n                        helperText={validateNames ? \"Nombre válido\" : \"Nombre inválido\"}\n                        error={!validateEmail}\n                        onChange={(e) => {\n                            setNames(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='text'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"lastnames\"\n                        label=\"Apellidos\"\n                        name=\"lastnames\"\n                        autoComplete=\"lastnames\"\n                        autoFocus\n                        helperText={validateLastnames ? \"Apellidos válidos\" : \"Apellidos inválidos\"}\n                        error={!validateLastnames}\n                        onChange={(e) => {\n                            setLastNames(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='password'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"password\"\n                        label=\"Contraseña\"\n                        name=\"password\"\n                        autoComplete=\"password\"\n                        autoFocus\n                        helperText={validatePassword ? \"Contraseña válida\" : \"Contraseña inválida\"}\n                        error={!validatePassword}\n                        onChange={(e) => {\n                            setPassword(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        type='password'\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"password-re\"\n                        label=\"Repite la contraseña\"\n                        name=\"password-re\"\n                        autoComplete=\"password-re\"\n                        autoFocus\n                        helperText={validateReTypedPassword ? \"Las contraseñas coinciden\" : \"Las contraseñas no coinciden\"}\n                        error={!validateReTypedPassword}\n                        onChange={(e) => {\n                            setReTypedPassword(e.target.value);\n                        }}\n                    />\n                    <FormControl variant=\"outlined\" className={classes.formControl}>\n                        <InputLabel id=\"demo-simple-select-outlined-label\">Rol</InputLabel>\n                        <Select\n                            labelId=\"demo-simple-select-outlined-label\"\n                            id=\"demo-simple-select-outlined\"\n                            value={role}\n                            onChange={(e) => {\n                                setRole(e.target.value);\n                            }}\n                            label=\"Rol\"\n                            error={!validateRole}\n                        >\n                        <MenuItem value={1}>Administrador</MenuItem>\n                        <MenuItem value={2}>Editor</MenuItem>\n                        <MenuItem value={3}>Revisor</MenuItem>\n                        </Select>\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.root}\n                        text={'Crear usuario'}\n                        onClick={createUser}\n                        disabled={!(validateEmail && validatePassword && validateReTypedPassword && validateNames && validateLastnames)}\n                    >\n                        Crear usuario\n                    </Button>\n                    <Dialog\n                        open={open}\n                        onClose={handleClose}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-title\">{\"Error al crear usuario\"}</DialogTitle>\n                        <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            Puede que hayan problemas con el servidor en este momento. Vuelve a intentarlo más tarde.\n                        </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                        <Button onClick={handleClose} color=\"primary\" autoFocus>\n                            Aceptar\n                        </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div> : <div><p>No tiene permisos para realizar esta función</p></div>}\n        </Container>\n        </div>\n    );\n}\n\nexport default CreateUserSect\n",["66","67"],"/Users/knhrvs/webpage_frontend/src/components/ButtonComp.js",[],"/Users/knhrvs/webpage_frontend/src/components/pages/AdminList.js",[],"/Users/knhrvs/webpage_frontend/src/index.js",[],"/Users/knhrvs/webpage_frontend/src/components/Home.js",[],"/Users/knhrvs/webpage_frontend/src/components/pages/LoginSect.js",["68","69","70","71","72","73"],"/Users/knhrvs/webpage_frontend/src/components/pages/ArtiEditSect.js",[],"/Users/knhrvs/webpage_frontend/src/components/Navbar.js",[],"/Users/knhrvs/webpage_frontend/src/components/pages/EditDeleteUsers.js",["74","75","76","77"],"/Users/knhrvs/webpage_frontend/src/components/pages/ArtiSect.js",[],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"78","replacedBy":"82"},{"ruleId":"80","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":14,"column":8,"nodeType":"86","messageId":"87","endLine":14,"endColumn":19},{"ruleId":"88","severity":1,"message":"89","line":51,"column":24,"nodeType":"90","messageId":"91","endLine":51,"endColumn":783},{"ruleId":"92","severity":1,"message":"93","line":51,"column":54,"nodeType":"90","messageId":"94","endLine":51,"endColumn":55,"suggestions":"95"},{"ruleId":"92","severity":1,"message":"93","line":51,"column":125,"nodeType":"90","messageId":"94","endLine":51,"endColumn":126,"suggestions":"96"},{"ruleId":"78","replacedBy":"97"},{"ruleId":"80","replacedBy":"98"},{"ruleId":"84","severity":1,"message":"99","line":5,"column":8,"nodeType":"86","messageId":"87","endLine":5,"endColumn":18},{"ruleId":"84","severity":1,"message":"100","line":6,"column":10,"nodeType":"86","messageId":"87","endLine":6,"endColumn":14},{"ruleId":"88","severity":1,"message":"89","line":19,"column":24,"nodeType":"90","messageId":"91","endLine":19,"endColumn":783},{"ruleId":"92","severity":1,"message":"93","line":19,"column":54,"nodeType":"90","messageId":"94","endLine":19,"endColumn":55,"suggestions":"101"},{"ruleId":"92","severity":1,"message":"93","line":19,"column":125,"nodeType":"90","messageId":"94","endLine":19,"endColumn":126,"suggestions":"102"},{"ruleId":"84","severity":1,"message":"103","line":20,"column":11,"nodeType":"86","messageId":"87","endLine":20,"endColumn":15},{"ruleId":"84","severity":1,"message":"85","line":14,"column":8,"nodeType":"86","messageId":"87","endLine":14,"endColumn":19},{"ruleId":"88","severity":1,"message":"89","line":44,"column":24,"nodeType":"90","messageId":"91","endLine":44,"endColumn":783},{"ruleId":"92","severity":1,"message":"93","line":44,"column":54,"nodeType":"90","messageId":"94","endLine":44,"endColumn":55,"suggestions":"104"},{"ruleId":"92","severity":1,"message":"93","line":44,"column":125,"nodeType":"90","messageId":"94","endLine":44,"endColumn":126,"suggestions":"105"},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],["106"],["107"],"no-unused-vars","'CssBaseline' is defined but never used.","Identifier","unusedVar","no-control-regex","Unexpected control character(s) in regular expression: \\x01, \\x08, \\x0b, \\x0c, \\x0e, \\x1f, \\x01, \\x09, \\x0b, \\x0c, \\x0d.","Literal","unexpected","no-useless-escape","Unnecessary escape character: \\/.","unnecessaryEscape",["108","109"],["110","111"],["106"],["107"],"'ButtonComp' is defined but never used.","'Link' is defined but never used.",["112","113"],["114","115"],"'next' is assigned a value but never used.",["116","117"],["118","119"],"no-global-assign","no-unsafe-negation",{"messageId":"120","fix":"121","desc":"122"},{"messageId":"123","fix":"124","desc":"125"},{"messageId":"120","fix":"126","desc":"122"},{"messageId":"123","fix":"127","desc":"125"},{"messageId":"120","fix":"128","desc":"122"},{"messageId":"123","fix":"129","desc":"125"},{"messageId":"120","fix":"130","desc":"122"},{"messageId":"123","fix":"131","desc":"125"},{"messageId":"120","fix":"132","desc":"122"},{"messageId":"123","fix":"133","desc":"125"},{"messageId":"120","fix":"134","desc":"122"},{"messageId":"123","fix":"135","desc":"125"},"removeEscape",{"range":"136","text":"137"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"138","text":"139"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"140","text":"137"},{"range":"141","text":"139"},{"range":"142","text":"137"},{"range":"143","text":"139"},{"range":"144","text":"137"},{"range":"145","text":"139"},{"range":"146","text":"137"},{"range":"147","text":"139"},{"range":"148","text":"137"},{"range":"149","text":"139"},[1818,1819],"",[1818,1818],"\\",[1889,1890],[1889,1889],[847,848],[847,847],[918,919],[918,918],[1726,1727],[1726,1726],[1797,1798],[1797,1797]]